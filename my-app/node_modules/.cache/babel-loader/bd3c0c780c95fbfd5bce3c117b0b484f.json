{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\mystery-music2\\\\sp21-mystery-music\\\\my-app\\\\src\\\\Game.js\";\nimport React from 'react';\nimport Board from './Board';\nimport Swal from \"sweetalert2\";\nimport './Game.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // TODO: get number of players in game from database and replace 8\n      // also fill the squares with the player names in fillArray\n      squares: this.fillArray(8)\n    };\n    this.round = 0;\n    this.scores = Array(8).fill(0);\n    this.gameOver = false;\n    this.counter = 0;\n    this.answer = 0;\n  }\n  /*\r\n    // function for each new round\r\n    newRound = () =>{\r\n      var squares = this.state.squares;\r\n  \r\n      squares = Array(8).fill(\"temp\");\r\n      this.round += 1;\r\n      this.answer = this.round;\r\n  \r\n      this.setState({\r\n        // update scores\r\n        squares: squares,\r\n      });\r\n    }\r\n  \r\n    timer = () => {\r\n      var timeleft = 10;\r\n      var timer = setInterval(function(){\r\n        if(timeleft <= 0){\r\n          clearInterval(timer);\r\n          document.getElementById(\"countdown\").innerHTML = \"Finished\";\r\n          this.round += 1;\r\n          var x = this.round;\r\n          document.getElementById(\"status\").innerHTML = 'Round:' + x;\r\n          this.newRound();\r\n        } else {\r\n          document.getElementById(\"countdown\").innerHTML = timeleft + \" seconds remaining\";\r\n        }\r\n        timeleft -= 1;\r\n      }, 1000);\r\n    }\r\n  \r\n    fillArray(size) {\r\n      var array = Array(size).fill();\r\n      for (var index = 0; index < array.length; index++) {\r\n        array[index] = index;\r\n      }\r\n      return array;\r\n    }\r\n  \r\n    nextTurn(n) {\r\n      // TODO: get next player from api calls\r\n      // currently a placeholder\r\n      return Math.floor(Math.random() * n);\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.timer();\r\n      this.props.pubnub.getMessage(this.props.gameChannel, (msg) => {\r\n  \r\n        // Publish move to the opponent's board    \r\n        this.publishMove(msg.message.index, msg.message.piece);\r\n  \r\n        // Start a new game\r\n        if(msg.message.reset){\r\n          this.setState({\r\n            // update scores\r\n            squares: this.fillArray(8),\r\n          });\r\n  \r\n          this.round = 0;\r\n          this.scores = Array(8).fill(0);\r\n          this.gameOver = false;\r\n          this.counter = 0;\r\n          this.answer = 0;\r\n          Swal.close()\r\n        }\r\n  \r\n        // End the game and go back to the lobby\r\n        else if(msg.message.endGame){\r\n          Swal.close();\r\n          this.props.endGame();\r\n        }\r\n      });\r\n    }\r\n  \r\n  \t// Update score for the winner\r\n    updateScore = (winner) => {\r\n      // TODO: Implement function\r\n  \r\n  \t\t// End the game once there is a winner\r\n  \t\t// this.gameOver = true;\r\n  \t\t// this.newRound(winner);\t\r\n    }\r\n    \r\n    checkForWinner = () => {\r\n  \r\n      // All rounds have been completed\r\n      if (this.round === 4) {\r\n        this.gameOver = true;\r\n        if(this.props.isRoomCreator) {\r\n          Swal.fire({      \r\n                position: 'top',\r\n                allowOutsideClick: false,\r\n                title: 'Game Over',\r\n                text: 'Ready for next round?',\r\n                showCancelButton: true,\r\n                confirmButtonColor: 'rgb(208,33,41)',\r\n                cancelButtonColor: '#aaa',\r\n                cancelButtonText: 'Nope',\r\n                confirmButtonText: 'Yea!',\r\n                width: 275,\r\n              }).then((result) => {\r\n                // Start a new round\r\n                if (result.value) {\r\n                  this.props.pubnub.publish({\r\n                    message: {\r\n                      reset: true\r\n                    },\r\n                    channel: this.props.gameChannel\r\n                  });\r\n                }\r\n        \r\n                else{\r\n                  // End the game\r\n                  this.props.pubnub.publish({\r\n                    message: {\r\n                      endGame: true\r\n                    },\r\n                    channel: this.props.gameChannel\r\n                  });\r\n                }\r\n              })      \r\n            \r\n        } else {\r\n        Swal.fire({  \r\n              position: 'top',\r\n              allowOutsideClick: false,\r\n              title: 'Game Over',\r\n              text: 'Waiting for a new round...',\r\n              confirmButtonColor: 'rgb(208,33,41)',\r\n              width: 275\r\n            });\r\n          }\r\n      }\r\n    };\r\n     \r\n    // Publishing an opponent's move onto the board\r\n    publishMove = (index, piece) => {\r\n      var squares = this.state.squares;\r\n  \r\n      squares[index] = piece;\r\n  \r\n      this.setState({\r\n        // update scores\r\n        squares: squares,\r\n      });\r\n      \r\n      if (index === this.answer) {\r\n        this.scores[index] += 1;\r\n      }\r\n  \r\n      this.checkForWinner()\r\n    }\r\n  \r\n    // Making a move on the board and publishing it\r\n    onMakeMove = (index) => {\r\n      var squares = this.state.squares;\r\n  \r\n      // Update chosen button to show that it's been clicked\r\n      if(squares[index]) { \r\n        squares[index] = 'X';\r\n  \r\n         this.setState({\r\n           squares: squares,\r\n         });\r\n  \r\n        // Publish move to the channel\r\n        this.props.pubnub.publish({\r\n          message: {\r\n            index: index,\r\n            piece: 'X',\r\n          },\r\n          channel: this.props.gameChannel\r\n        });  \r\n  \r\n        // Check if there is a winner\r\n        this.checkForWinner();\r\n      }\r\n    }\r\n  */\n  // Instructions\n  //   How to Play\n  // Up to 8 players may join a game, be sure to share the join code with your friends!\n  // During each round, the game will play a song from one of the playerâ€™s Spotify playlist.\n  // Players then have to select the user whose playlist they think the song is from.\n  // Correct answers get 1 point, and wrong answers get 0 points.\n  // After 20 rounds, the player with the most number of points wins!\n\n\n  render() {\n    let status; // Change to current round\n\n    status = `${this.round}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"game-screen-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex-row-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"mystery-music-logo-1\",\n          src: \"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/mysterymusic-logo-1-1@2x.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"place roboto-regular-normal-black-18px\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"about roboto-regular-normal-black-18px\",\n              children: \"About\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"contact roboto-regular-normal-black-18px\",\n              children: \"Team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"flex-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"flex-col-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"overlap-group1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  class: \"text-1 arial-black-flirt-64px\",\n                  children: \"Guess Who\\u2019s Playlist?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"chevron-down\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    class: \"vector\",\n                    src: \"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/vector@2x.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 20\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"flex-row-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"overlap-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    class: \"vector-197\",\n                    src: \"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/vector-197@2x.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 20\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex-col-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"album-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"play-bar\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"overlap-group3-1\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"rectangle\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 251,\n                        columnNumber: 24\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 22\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"overlap-group2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"leaderboard-example\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"overlap-group3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"name-1 arial-regular-normal-black-24px\",\n                    children: \"Linda\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    class: \"star-1\",\n                    src: \"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/star-1@2x.svg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"number-1 arial-black-black-24px\",\n                    children: \"6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex-row-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"name-2 arial-regular-normal-black-24px\",\n                    children: \"Lindsay\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"number-2 arial-black-black-24px\",\n                    children: \"5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex-row-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"egret arial-regular-normal-black-24px\",\n                    children: \"Egret\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"number arial-black-black-24px\",\n                    children: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex-row-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"name arial-regular-normal-black-24px\",\n                    children: \"David\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"number-3 arial-black-black-24px\",\n                    children: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 8\n    }, this);\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["C:/Users/david/mystery-music2/sp21-mystery-music/my-app/src/Game.js"],"names":["React","Board","Swal","Game","Component","constructor","props","state","squares","fillArray","round","scores","Array","fill","gameOver","counter","answer","render","status"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAO,YAAP;;;AAEA,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACX;AACA;AACAC,MAAAA,OAAO,EAAE,KAAKC,SAAL,CAAe,CAAf;AAHE,KAAb;AAMA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,MAAL,GAAcC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,CAAd,CAAd;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,OAAL,GAAe,CAAf;AACA,SAAKC,MAAL,GAAc,CAAd;AACD;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","sourcesContent":["import React from 'react';\r\nimport Board from './Board';\r\nimport Swal from \"sweetalert2\";  \r\nimport './Game.css';\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // TODO: get number of players in game from database and replace 8\r\n      // also fill the squares with the player names in fillArray\r\n      squares: this.fillArray(8), \r\n  \r\n    };\r\n    this.round = 0;\r\n    this.scores = Array(8).fill(0);\r\n    this.gameOver = false;\r\n    this.counter = 0;\r\n    this.answer = 0;\r\n  }\r\n/*\r\n  // function for each new round\r\n  newRound = () =>{\r\n    var squares = this.state.squares;\r\n\r\n    squares = Array(8).fill(\"temp\");\r\n    this.round += 1;\r\n    this.answer = this.round;\r\n\r\n    this.setState({\r\n      // update scores\r\n      squares: squares,\r\n    });\r\n  }\r\n\r\n  timer = () => {\r\n    var timeleft = 10;\r\n    var timer = setInterval(function(){\r\n      if(timeleft <= 0){\r\n        clearInterval(timer);\r\n        document.getElementById(\"countdown\").innerHTML = \"Finished\";\r\n        this.round += 1;\r\n        var x = this.round;\r\n        document.getElementById(\"status\").innerHTML = 'Round:' + x;\r\n        this.newRound();\r\n      } else {\r\n        document.getElementById(\"countdown\").innerHTML = timeleft + \" seconds remaining\";\r\n      }\r\n      timeleft -= 1;\r\n    }, 1000);\r\n  }\r\n\r\n  fillArray(size) {\r\n    var array = Array(size).fill();\r\n    for (var index = 0; index < array.length; index++) {\r\n      array[index] = index;\r\n    }\r\n    return array;\r\n  }\r\n\r\n  nextTurn(n) {\r\n    // TODO: get next player from api calls\r\n    // currently a placeholder\r\n    return Math.floor(Math.random() * n);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.timer();\r\n    this.props.pubnub.getMessage(this.props.gameChannel, (msg) => {\r\n\r\n      // Publish move to the opponent's board    \r\n      this.publishMove(msg.message.index, msg.message.piece);\r\n\r\n      // Start a new game\r\n      if(msg.message.reset){\r\n        this.setState({\r\n          // update scores\r\n          squares: this.fillArray(8),\r\n        });\r\n\r\n        this.round = 0;\r\n        this.scores = Array(8).fill(0);\r\n        this.gameOver = false;\r\n        this.counter = 0;\r\n        this.answer = 0;\r\n        Swal.close()\r\n      }\r\n\r\n      // End the game and go back to the lobby\r\n      else if(msg.message.endGame){\r\n        Swal.close();\r\n        this.props.endGame();\r\n      }\r\n    });\r\n  }\r\n\r\n\t// Update score for the winner\r\n  updateScore = (winner) => {\r\n    // TODO: Implement function\r\n\r\n\t\t// End the game once there is a winner\r\n\t\t// this.gameOver = true;\r\n\t\t// this.newRound(winner);\t\r\n  }\r\n  \r\n  checkForWinner = () => {\r\n\r\n    // All rounds have been completed\r\n    if (this.round === 4) {\r\n      this.gameOver = true;\r\n      if(this.props.isRoomCreator) {\r\n        Swal.fire({      \r\n              position: 'top',\r\n              allowOutsideClick: false,\r\n              title: 'Game Over',\r\n              text: 'Ready for next round?',\r\n              showCancelButton: true,\r\n              confirmButtonColor: 'rgb(208,33,41)',\r\n              cancelButtonColor: '#aaa',\r\n              cancelButtonText: 'Nope',\r\n              confirmButtonText: 'Yea!',\r\n              width: 275,\r\n            }).then((result) => {\r\n              // Start a new round\r\n              if (result.value) {\r\n                this.props.pubnub.publish({\r\n                  message: {\r\n                    reset: true\r\n                  },\r\n                  channel: this.props.gameChannel\r\n                });\r\n              }\r\n      \r\n              else{\r\n                // End the game\r\n                this.props.pubnub.publish({\r\n                  message: {\r\n                    endGame: true\r\n                  },\r\n                  channel: this.props.gameChannel\r\n                });\r\n              }\r\n            })      \r\n          \r\n      } else {\r\n      Swal.fire({  \r\n            position: 'top',\r\n            allowOutsideClick: false,\r\n            title: 'Game Over',\r\n            text: 'Waiting for a new round...',\r\n            confirmButtonColor: 'rgb(208,33,41)',\r\n            width: 275\r\n          });\r\n        }\r\n    }\r\n  };\r\n   \r\n  // Publishing an opponent's move onto the board\r\n  publishMove = (index, piece) => {\r\n    var squares = this.state.squares;\r\n\r\n    squares[index] = piece;\r\n\r\n    this.setState({\r\n      // update scores\r\n      squares: squares,\r\n    });\r\n    \r\n    if (index === this.answer) {\r\n      this.scores[index] += 1;\r\n    }\r\n\r\n    this.checkForWinner()\r\n  }\r\n\r\n  // Making a move on the board and publishing it\r\n  onMakeMove = (index) => {\r\n    var squares = this.state.squares;\r\n\r\n    // Update chosen button to show that it's been clicked\r\n    if(squares[index]) { \r\n      squares[index] = 'X';\r\n\r\n       this.setState({\r\n         squares: squares,\r\n       });\r\n\r\n      // Publish move to the channel\r\n      this.props.pubnub.publish({\r\n        message: {\r\n          index: index,\r\n          piece: 'X',\r\n        },\r\n        channel: this.props.gameChannel\r\n      });  \r\n\r\n      // Check if there is a winner\r\n      this.checkForWinner();\r\n    }\r\n  }\r\n*/\r\n// Instructions\r\n//   How to Play\r\n// Up to 8 players may join a game, be sure to share the join code with your friends!\r\n// During each round, the game will play a song from one of the playerâ€™s Spotify playlist.\r\n// Players then have to select the user whose playlist they think the song is from.\r\n// Correct answers get 1 point, and wrong answers get 0 points.\r\n// After 20 rounds, the player with the most number of points wins!\r\n\r\n  render() {\r\n    let status;\r\n    // Change to current round\r\n    status = `${this.round}`;\r\n\r\n    return (\r\n \r\n       <div class=\"game-screen-1\">\r\n       <div class=\"flex-row-5\">\r\n         <img\r\n           class=\"mystery-music-logo-1\"\r\n           src=\"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/mysterymusic-logo-1-1@2x.png\"\r\n         />\r\n         <div class=\"flex-col\">\r\n           <div class=\"group\">\r\n             <div class=\"place roboto-regular-normal-black-18px\">Home</div>\r\n             <div class=\"about roboto-regular-normal-black-18px\">About</div>\r\n             <div class=\"contact roboto-regular-normal-black-18px\">Team</div>\r\n           </div>\r\n           <div class=\"flex-row\">\r\n             <div class=\"flex-col-2\">\r\n               <div class=\"overlap-group1\">\r\n                 <h1 class=\"text-1 arial-black-flirt-64px\">Guess Whoâ€™s Playlist?</h1>\r\n                 <div class=\"chevron-down\">\r\n                   <img\r\n                     class=\"vector\"\r\n                     src=\"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/vector@2x.svg\"\r\n                   />\r\n                 </div>\r\n               </div>\r\n               <div class=\"flex-row-1\">\r\n                 <div class=\"overlap-group\">\r\n                   <img\r\n                     class=\"vector-197\"\r\n                     src=\"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/vector-197@2x.svg\"\r\n                   />\r\n                 </div>\r\n                 <div class=\"flex-col-1\">\r\n                   <div class=\"album-cover\"></div>\r\n                   <div class=\"play-bar\">\r\n                     <div class=\"overlap-group3-1\">\r\n                       <div class=\"rectangle\"></div>\r\n                     </div>\r\n                   </div>\r\n                 </div>\r\n               </div>\r\n             </div>\r\n             <div class=\"overlap-group2\">\r\n               <div class=\"leaderboard-example\">\r\n                 <div class=\"overlap-group3\">\r\n                   <div class=\"name-1 arial-regular-normal-black-24px\">Linda</div>\r\n                   <img\r\n                     class=\"star-1\"\r\n                     src=\"https://anima-uploads.s3.amazonaws.com/projects/60760a93d4d62b3f8b0aea2b/releases/6078ee0985f5e7f39b088386/img/star-1@2x.svg\"\r\n                   />\r\n                   <div class=\"number-1 arial-black-black-24px\">6</div>\r\n                 </div>\r\n                 <div class=\"flex-row-4\">\r\n                   <div class=\"name-2 arial-regular-normal-black-24px\">Lindsay</div>\r\n                   <div class=\"number-2 arial-black-black-24px\">5</div>\r\n                 </div>\r\n                 <div class=\"flex-row-2\">\r\n                   <div class=\"egret arial-regular-normal-black-24px\">Egret</div>\r\n                   <div class=\"number arial-black-black-24px\">3</div>\r\n                 </div>\r\n                 <div class=\"flex-row-3\">\r\n                   <div class=\"name arial-regular-normal-black-24px\">David</div>\r\n                   <div class=\"number-3 arial-black-black-24px\">1</div>\r\n                 </div>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;"]},"metadata":{},"sourceType":"module"}